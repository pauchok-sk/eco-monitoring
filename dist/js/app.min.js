(()=>{"use strict";function e(){const e=document.querySelectorAll(".select");e.length&&(document.body.addEventListener("click",()=>{const e=document.querySelectorAll(".select._open");e.length&&e.forEach(e=>e.classList.remove("_open"))}),e.forEach(s=>{const o=s.querySelector(".select-btn"),r=s.querySelectorAll(".select-item"),i=s.querySelector(".select-input");s.addEventListener("click",e=>e.stopPropagation()),t(s),i.addEventListener("input",e=>{const t=e.target.value.toLowerCase();r.forEach(e=>{e.textContent.toLowerCase().includes(t)?e.style.display="block":e.style.display="none"})}),o.addEventListener("click",()=>{s.classList.contains("_open")?n(s):function(t){e.forEach(e=>e.classList.remove("_open")),t.classList.add("_open")}(s)})}))}function t(e){const t=e.querySelectorAll(".select-item"),s=e.querySelector(".input");t.forEach(o=>{o.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("_active")),o.classList.add("_active"),s.value=o.textContent.replace(/\s+/g," ").trim(),n(e)})})}function n(e){e.classList.remove("_open")}function s(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const s=Array.from(e).filter(function(e,t,n){return!e.dataset.spollers.split(",")[0]});s.length&&r(s);let o=function(e,t){const n=Array.from(e).filter(function(e,n,s){if(e.dataset[t])return e.dataset[t].split(",")[0]});if(n.length){const e=[];n.forEach(n=>{const s={},o=n.dataset[t].split(",");s.value=o[0],s.type=o[1]?o[1].trim():"max",s.item=n,e.push(s)});let s=e.map(function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type});s=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}(s);const o=[];if(s.length)return s.forEach(t=>{const n=t.split(","),s=n[1],r=n[2],i=window.matchMedia(n[0]),l=e.filter(function(e){if(e.value===s&&e.type===r)return!0});o.push({itemsArray:l,matchMedia:i})}),o}}(e,"spollers");function r(e,t=!1){e.forEach(e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),i(e),e.addEventListener("click",l)):(e.classList.remove("_spoller-init"),i(e,!1),e.removeEventListener("click",l))})}function i(e,t=!0){let n=e.querySelectorAll("[data-spoller]");n.length&&(n=Array.from(n).filter(t=>t.closest("[data-spollers]")===e),n.forEach(e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function l(e){const t=e.target;if(t.closest("[data-spoller]")){const s=t.closest("[data-spoller]"),o=s.closest("[data-spollers]"),r=o.hasAttribute("data-one-spoller"),i=o.dataset.spollersSpeed?parseInt(o.dataset.spollersSpeed):500;o.querySelectorAll("._slide").length||(r&&!s.classList.contains("_spoller-active")&&a(o),s.classList.toggle("_spoller-active"),n(s.nextElementSibling,i)),e.preventDefault()}}function a(e){const n=e.querySelector("[data-spoller]._spoller-active"),s=e.dataset.spollersSpeed?parseInt(e.dataset.spollersSpeed):500;n&&!e.querySelectorAll("._slide").length&&(n.classList.remove("_spoller-active"),t(n.nextElementSibling,s))}o&&o.length&&o.forEach(e=>{e.matchMedia.addEventListener("change",function(){r(e.itemsArray,e.matchMedia)}),r(e.itemsArray,e.matchMedia)});const c=document.querySelectorAll("[data-spoller-close]");c.length&&document.addEventListener("click",function(e){e.target.closest("[data-spollers]")||c.forEach(e=>{const n=e.closest("[data-spollers]"),s=n.dataset.spollersSpeed?parseInt(n.dataset.spollersSpeed):500;e.classList.remove("_spoller-active"),t(e.nextElementSibling,s)})})}let t=(e,t=500,n=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=n?`${n}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!n,!n&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!n&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},n=(e,n=500)=>e.hidden?((e,t=500,n=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,n&&e.style.removeProperty("height");let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=n?`${n}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}})(e,n):t(e,n)}function o(){const e=document.querySelector(".map");if(e){function t(e,t){e.forEach(e=>{const n=e.target;e.isIntersecting&&(function(e,t){if(e)return new Promise((n,s)=>{const o=document.querySelector(`script[src="${e}"]`);if(o)n(o);else{const o=document.createElement("script");o.src=e,t&&(o.type=t),o.onload=()=>{n(o)},o.onerror=()=>{s(new Error(`Не удалось загрузить скрипт: ${e}`))},document.head.appendChild(o)}})}("https://api-maps.yandex.ru/2.1/?apikey=b46e9249-4925-4460-b11c-3aaf76ad0115&lang=ru_RU","text/javascript").then(()=>function(e){const t=JSON.parse(e.dataset.center),n=Number(e.dataset.zoom),s=e.dataset.icon;let o={};s&&(o={iconLayout:"default#image",iconImageHref:s,iconImageSize:[80,80],iconImageOffset:[-30,-40]});function r(){const s=new ymaps.Map(e,{center:t,zoom:n}),r=new ymaps.Placemark(t,{},o);s.geoObjects.add(r),s.controls.remove("geolocationControl"),s.controls.remove("searchControl"),s.controls.remove("trafficControl"),s.controls.remove("typeSelector"),s.controls.remove("fullscreenControl"),s.controls.remove("rulerControl"),s.behaviors.disable(["scrollZoom"])}ymaps.ready(r)}(n)),t.unobserve(n))})}new IntersectionObserver(t,{root:null,rootMargin:"0px",scrollMargin:"0px",threshold:.01}).observe(e)}}document.addEventListener("DOMContentLoaded",()=>{s(),function(){const e=document.querySelector(".header-services__slider");e&&new Swiper(e,{speed:900,slidesPerView:"auto",spaceBetween:30,navigation:{nextEl:".header-services__next-btn"},breakpoints:{1366:{spaceBetween:50}}});const t=document.querySelector(".intro__slider");if(t){const e=document.querySelector(".intro__slider-gallery"),n=new Swiper(e,{speed:900});new Swiper(t,{speed:900,effect:"fade",autoplay:{delay:3500},navigation:{nextEl:".intro__slide-next"},pagination:{el:".intro__slider-pagination",clickable:!0},on:{slideChange:({activeIndex:e})=>{n.slideTo(e)}}})}const n=document.querySelector(".s-services__slider");n&&new Swiper(n,{speed:900,slidesPerView:1,spaceBetween:20,autoplay:{delay:3500},pagination:{el:".s-services .slider-pagination",clickable:!0},breakpoints:{1366:{slidesPerView:5,spaceBetween:24},992:{slidesPerView:4,spaceBetween:24},768:{slidesPerView:3,spaceBetween:20},480:{slidesPerView:2,spaceBetween:20}}});const s=document.querySelector(".s-news__slider");s&&new Swiper(s,{speed:900,spaceBetween:25,slidesPerView:"auto",autoplay:{delay:4e3},navigation:{nextEl:".s-news .slider-arrow._next",prevEl:".s-news .slider-arrow._prev"},pagination:{el:".s-news .slider-pagination",clickable:!0},breakpoints:{1366:{spaceBetween:30,slidesPerView:4}}});const o=document.querySelectorAll(".nav-slider");o.length&&o.forEach(e=>{new Swiper(e,{speed:900,slidesPerView:"auto",spaceBetween:30,navigation:{nextEl:document.querySelector(".nav-slider__next-btn")},breakpoints:{1366:{spaceBetween:50}}})});const r=document.querySelector(".s-steps__slider");r&&window.matchMedia("(max-width: 991px)").matches&&new Swiper(r,{speed:900,spaceBetween:20,slidesPerView:"auto",autoplay:{delay:3500},pagination:{el:".s-steps .slider-pagination",clickable:!0}});const i=document.querySelectorAll(".s-content__gallery-slider");i.length&&i.forEach(e=>{new Swiper(e,{speed:900,spaceBetween:20,navigation:{prevEl:e.closest(".s-content__gallery").querySelector(".slider-arrow._prev"),nextEl:e.closest(".s-content__gallery").querySelector(".slider-arrow._next")},pagination:{el:e.closest(".s-content__gallery").querySelector(".slider-pagination"),clickable:!0}})});const l=document.querySelector(".s-features__slider");l&&window.matchMedia("(max-width: 767px)").matches&&new Swiper(l,{speed:900,spaceBetween:20,slidesPerView:"auto",autoplay:{delay:4200},pagination:{el:".s-features .slider-pagination",clickable:!0}});const a=document.querySelectorAll(".s-doc__slider");a.length&&a.forEach(e=>{new Swiper(e,{speed:900,spaceBetween:20,slidesPerView:"auto",navigation:{nextEl:e.closest(".s-doc__block").querySelector(".slider-arrow._next"),prevEl:e.closest(".s-doc__block").querySelector(".slider-arrow._prev")},pagination:{el:e.closest(".s-doc__block").querySelector(".slider-pagination"),clickable:!0},breakpoints:{1366:{spaceBetween:30,slidesPerView:3},768:{spaceBetween:20,slidesPerView:2}}})});const c=document.querySelector(".s-info__slider");if(c){const e=c.classList.contains("_simple");new Swiper(c,{speed:900,spaceBetween:20,slidesPerView:1,autoplay:{delay:3500},pagination:{el:".s-info .slider-pagination",clickable:!0},navigation:{nextEl:".s-info .slider-arrow._next",prevEl:".s-info .slider-arrow._prev"},breakpoints:{1366:{spaceBetween:24,slidesPerView:e?3:4},992:{spaceBetween:24,slidesPerView:3},700:{spaceBetween:20,slidesPerView:2}}})}const d=document.querySelector(".s-certificates__slider");d&&new Swiper(d,{speed:900,slidesPerView:"auto",spaceBetween:20,pagination:{el:".s-certificates .slider-pagination",clickable:!0},navigation:{nextEl:".s-certificates .slider-arrow._next",prevEl:".s-certificates .slider-arrow._prev"},breakpoints:{1200:{slidesPerView:4,spaceBetween:30},768:{slidesPerView:3,spaceBetween:30}}})}(),function(){const e=document.querySelectorAll('input[type="tel"]');new Inputmask("+7 (999) 999 99-99").mask(e)}(),e(),function(){const e=document.querySelectorAll("[data-items-select]");e.length&&e.forEach(e=>{const n=e.dataset.itemsSelect.split(","),s=e.querySelector(".select-items"),o=s.querySelector(".select-body");n.forEach(e=>{const t=document.createElement("div");t.classList.add("select-item"),t.textContent=e,o.appendChild(t)}),t(s)})}(),function(){const e=document.querySelector("#burger-open"),t=document.querySelector("#burger-close"),n=document.querySelector("#burger"),s=document.querySelector("#burger-overlay");if(n){function o(){e.classList.remove("_active"),n.classList.remove("_open"),s.classList.remove("_active"),document.body.classList.remove("body-hidden")}function r(){e.classList.add("_active"),n.classList.add("_open"),s.classList.add("_active"),document.body.classList.add("body-hidden")}n.querySelectorAll(".burger__list a").forEach(e=>e.addEventListener("click",o)),n.addEventListener("click",e=>e.stopPropagation()),s.addEventListener("click",o),e.addEventListener("click",t=>{t.stopPropagation(),e.classList.contains("_active")?o():r()}),t.addEventListener("click",e=>{e.stopPropagation(),o()});const i=n.querySelector("#burger-services");if(i){const l=n.querySelector("#burger-services-open"),a=n.querySelector("#burger-services-prev");l.addEventListener("click",()=>{i.classList.add("_open")}),a.addEventListener("click",()=>{i.classList.remove("_open")})}}}(),function(){function e(e){this.type=e}e.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(n[0].trim()),s.breakpoint=n[1]?n[1].trim():"767",s.place=n[2]?n[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint},this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,function(e,t,n){return Array.prototype.indexOf.call(n,e)===t});for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],s=String.prototype.split.call(n,","),o=window.matchMedia(s[0]),r=s[1],i=Array.prototype.filter.call(this.оbjects,function(e){return e.breakpoint===r});o.addListener(function(){e.mediaHandler(o,i)}),this.mediaHandler(o,i)}},e.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},e.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint}):Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint})},new e("max").init()}(),function(){const e=document.querySelector(".body");if(e){const t=document.querySelector(".container").clientWidth;function n(){let n=0;window.matchMedia("(min-width: 1761px)").matches?n=(document.documentElement.clientWidth-t)/2-20:window.matchMedia("(min-width: 1680px)").matches&&(n=(document.documentElement.clientWidth-t)/2+15),e.style.cssText=`--offset: ${n}px;`}n(),window.addEventListener("resize",n)}}(),function(){const e=document.querySelector("#widget-docs"),t=e?.querySelector("#widget-docs-search");if(e){const n=e.querySelector("#widget-docs-filters"),s=e.querySelector("#widget-docs-filters-open"),o=e.querySelector("#widget-docs-filters-close");function r(){document.body.classList.add("body-hidden"),n.classList.add("_open")}function i(){document.body.classList.remove("body-hidden"),n.classList.remove("_open")}s.addEventListener("click",r),o.addEventListener("click",i)}if(t){const l=t.querySelector("#widget-docs-search-input");l.addEventListener("focus",()=>{t.classList.add("_focus")}),l.addEventListener("blur",()=>{t.classList.remove("_focus")})}}(),function(){const e=document.querySelector(".header-t");if(e){let t=0;window.addEventListener("scroll",()=>{let n=window.pageYOffset||document.documentElement.scrollTop;n>t?e.classList.add("_scroll"):e.classList.remove("_scroll"),t=n})}}(),function(){const e=document.querySelectorAll("a[href='#modal-dest']");if(e.length){const t=document.querySelector("#modal-dest-title"),n=document.querySelector("#modal-dest-content");e.forEach(e=>{e.addEventListener("click",()=>{const s=e.dataset.destTitle,o=e.dataset.destContent;t.textContent=s,n.innerHTML=o})})}}(),function(){const e=document.querySelectorAll("a[href='#modal-request-ecobox']");if(e.length){const t=document.querySelector("#input-ecobox");e.forEach(e=>{e.addEventListener("click",()=>{const n=e.dataset.valueModal;t.value=n})})}}(),o(),function(){const e=document.querySelectorAll("[data-copy]");e.length&&e.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.copy,n=tippy(e,{content:"Скопировано",trigger:"manual"});navigator.clipboard.writeText(t).then(()=>{n.show(),setTimeout(()=>{n.hide()},1e3)})})})}(),function(){const e=document.querySelector(".s-contacts__video");if(e){const t=document.querySelector(".s-contacts__gallery .btn-play");function n(){e.classList.add("_played"),t.classList.add("_active"),e.play()}function s(){e.classList.remove("_played"),t.classList.remove("_active"),e.pause()}t.addEventListener("click",()=>{e.classList.contains("_played")?s():n()}),e.addEventListener("ended",s),e.addEventListener("click",()=>{e.classList.contains("_played")?s():n()})}}(),Fancybox.bind("[data-fancybox]",{closeButton:!1})})})();